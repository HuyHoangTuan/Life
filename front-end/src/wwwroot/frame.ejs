<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" charset="UTF-8" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/assets/css/style.css" />
		<link rel="stylesheet" href="/assets/css/frame.css" />
		<script src="/assets/js/component.js"></script>
		<script src="/assets/js/player.js"></script>
		<script src="/assets/js/script.js"></script>
		<script src="/assets/js/navigation.js"></script>
		<script src="/assets/js/socket.js"></script>
		<script src="/assets/js/form.js"></script>
		<title></title>
		<script>createSocket();</script>
	</head>
	<body>
		<nav class="bar-horizontal">
			<div onclick="changePage('/library')" style="cursor: pointer">
				<div class="button-onbar">LIFE</div>
				<div class="button-onbar">Library</div>
			</div>
			<div style="position: relative">
				<div
					style="position: absolute; line-height: 1.75rem"
					class="icon-font"
				>
					search
				</div>
				<input
					type="text"
					id="input-search"
					placeholder="Search here"
					oninput="search(this.value)"
				/>
			</div>
			<div class="flex-row">
				<div class = "flex-row" style="margin-right: 10px ; cursor: pointer;" onclick="changePage('/profile')">
					<img src="/users/<%= uid %>/avatar" class="avatar" style="height: 2rem; width: 2rem;">
					<span style="margin-top: 3px;"><%= uname %></span>
				</div>
				
				<a style = "margin-top: 3px" href="/logout">Logout</a>
			</div>
		</nav>
		<main>
			<div id="page-view"><%- content %></div>
			<div></div>
		</main>
		<div class="dialog hidden" id="dialog-del-confirm">
			<h1>Dialog Header</h1>
			<div class="dialog-content">
				<p>Are you sure you want to delete this item?</p>
			</div>
			<div class="dialog-controls">
				<button class="dialog-button-ok">OK</button>
				<button class="dialog-button-cancel" onclick="toggleDialog('dialog-del-confirm', resetDeleteDialog)">Cancel</button>
			</div>
		</div>
		<div class="dialog hidden" id="dialog-status-ok">
			<h1>Dialog Header</h1>
			<div class="dialog-content">
				<p>Ok</p>
			</div>
			<div class="dialog-controls">
				<button class="dialog-button-ok" onclick="toggleOk()">OK</button>
				<!-- <button class="dialog-button-cancel" onclick="toggleDialog('dialog-status-ok')">Cancel</button> -->
			</div>
		</div>
		<div class="dialog hidden" id="dialog-status-err">
			<h1>Error</h1>
			<div class="dialog-content">
				<p>Something went wrong! Please try again.</p>
			</div>
			<div class="dialog-controls">
				<button class="dialog-button-ok" onclick="toggleDialog('dialog-status-err')">OK</button>
				<!-- <button class="dialog-button-cancel" onclick="toggleDialog('dialog-status-ok')">Cancel</button> -->
			</div>
		</div>
		<div class="bar-horizontal">
			<div class="control-area">
				<button class="icon-font">skip_previous</button>
				<button id="button-play" class="icon-font" onclick="toggleMusic()">
				</button>
				<button class="icon-font">skip_next</button>
				<div></div>
				<button class="icon-font">volume_up</button>
				<range-slider
					id="slider-vol"
					value = 100
					oninput="player.volume = (0.5 * this.value)/100"
				></range-slider>
			</div>
			<div
				style="
					display: grid;
					grid-template-columns: 5ch 1fr 5ch;
					column-gap: 1rem;
					align-items: center;
				"
			>
				<h4 class="number" id="time-elapsed">--:--</h4>
				<range-slider
					id="slider-time"
					onchange="seek(this.value)"
				></range-slider>
				<h4 class="number" id="time-length">--:--</h4>
			</div>
			<div class="control-area" style="flex-direction: row-reverse">
				<button class="icon-font">queue_music</button>
				<button class="icon-font">shuffle</button>
				<button class="icon-font">repeat</button>
				<div
					style="
						width: 100%;
						padding-bottom: 0.2rem;
						overflow: hidden;
					"
				>
					<b style="line-height: 0.8rem;" id="current-song"></b>
					<h4 style="line-height: 0.8rem;" id="current-artist"></h4>
				</div>
			</div>
		</div>
	</body>
</html>
